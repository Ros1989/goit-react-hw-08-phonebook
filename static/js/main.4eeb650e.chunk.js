(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{108:function(t,e,r){},109:function(t,e,r){},110:function(t,e,r){"use strict";r.r(e);var c,n,a,s,o,u,i=r(2),b=r(1),j=r.n(b),l=r(23),O=r.n(l),d=r(10),f=r(18),g=r(8),h=r(54),p=(r(42),r(28)),C=r(4),x=r(20),v=r(55),m=r.n(v),S=r(3),k=r(11),E=r(9),R=Object(C.c)([],(c={},Object(S.a)(c,E.a.fetchContactsSuccess,(function(t,e){return e.payload})),Object(S.a)(c,E.a.addContactsSuccess,(function(t,e){var r=e.payload;return[].concat(Object(p.a)(t),[r])})),Object(S.a)(c,E.a.deleteContactsSuccess,(function(t,e){var r=e.payload;return t.filter((function(t){return t.id!==r}))})),Object(S.a)(c,E.a.editContactsSuccess,(function(t,e){var r=e.payload,c=t.filter((function(t){return t.id!==r.id}));return[].concat(Object(p.a)(c),[r])})),c)),y=Object(C.c)("",Object(S.a)({},E.a.changeFilter,(function(t,e){return e.payload}))),q=Object(C.c)(!1,(n={},Object(S.a)(n,E.a.addContactsRequest,(function(){return!0})),Object(S.a)(n,E.a.addContactsSuccess,(function(){return!1})),Object(S.a)(n,E.a.addContactsError,(function(){return!1})),Object(S.a)(n,E.a.fetchContactsRequest,(function(){return!0})),Object(S.a)(n,E.a.fetchContactsSuccess,(function(){return!1})),Object(S.a)(n,E.a.fetchContactsError,(function(){return!1})),Object(S.a)(n,E.a.deleteContactsRequest,(function(){return!0})),Object(S.a)(n,E.a.deleteContactsSuccess,(function(){return!1})),Object(S.a)(n,E.a.deleteContactsError,(function(){return!1})),Object(S.a)(n,E.a.editContactsRequest,(function(){return!0})),Object(S.a)(n,E.a.editContactsSuccess,(function(){return!1})),Object(S.a)(n,E.a.editContactsError,(function(){return!1})),n)),_=Object(k.c)({item:R,filter:y,isLoading:q}),w=r(5),I={name:null,email:null},N=Object(C.c)(I,(a={},Object(S.a)(a,w.a.registerSuccess,(function(t,e){return e.payload.user})),Object(S.a)(a,w.a.logInSuccess,(function(t,e){return e.payload.user})),Object(S.a)(a,w.a.logOutSuccess,(function(){return I})),Object(S.a)(a,w.a.getCurrentUserSuccess,(function(t,e){return e.payload})),a)),U=Object(C.c)(null,(s={},Object(S.a)(s,w.a.registerSuccess,(function(t,e){return e.payload.token})),Object(S.a)(s,w.a.logInSuccess,(function(t,e){return e.payload.token})),Object(S.a)(s,w.a.logOutSuccess,(function(){return null})),s)),z=function(t,e){return e.payload},F=Object(C.c)(null,(o={},Object(S.a)(o,w.a.registerError,z),Object(S.a)(o,w.a.logInError,z),Object(S.a)(o,w.a.logOutError,z),Object(S.a)(o,w.a.getCurrentUserError,z),o)),T=Object(C.c)(!1,(u={},Object(S.a)(u,w.a.registerSuccess,(function(){return!0})),Object(S.a)(u,w.a.logInSuccess,(function(){return!0})),Object(S.a)(u,w.a.getCurrentUserSuccess,(function(){return!0})),Object(S.a)(u,w.a.logOutSuccess,(function(){return!1})),Object(S.a)(u,w.a.registerError,(function(){return!1})),Object(S.a)(u,w.a.logInError,(function(){return!1})),Object(S.a)(u,w.a.logOutError,(function(){return!0})),Object(S.a)(u,w.a.getCurrentUserError,(function(){return!1})),u)),A=Object(k.c)({user:N,token:U,error:F,isAuthenticated:T}),W=Object(p.a)(Object(C.d)({serializableCheck:{ignoredActions:[x.a,x.f,x.b,x.c,x.d,x.e]}})),B={key:"auth",storage:m.a,whitelist:["token"]},H=Object(C.a)({reducer:{contacts:_,auth:Object(x.g)(B,A)},middleware:W,devTools:!1}),J={store:H,persistor:Object(x.h)(H)},L=function(t){return t.auth.isAuthenticated},P=function(t){return t.auth.user.name},M=r(56),Y=r(33),Z=r(14),D=r.n(Z);function G(){var t=Object(d.c)(L),e=window.innerWidth;return Object(i.jsxs)("nav",{className:D.a.nav,children:[Object(i.jsx)(f.b,{className:D.a.link,to:"/",children:Object(i.jsx)(M.a,{size:"20"})}),t&&Object(i.jsx)(f.b,{className:D.a.link,to:"/contacts",children:e<=767?Object(i.jsx)(Y.b,{}):"Contacts"})]})}function K(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(f.b,{className:D.a.link,to:"/register",children:"Registration"}),Object(i.jsx)(f.b,{className:D.a.link,to:"/login",children:"Enter"})]})}var Q=r(30);function V(){var t=Object(d.c)(P),e=Object(d.b)();return Object(i.jsxs)("div",{className:D.a.userWrapper,children:[Object(i.jsx)("span",{className:D.a.name,children:t}),Object(i.jsx)(Y.a,{size:"20",className:D.a.button,type:"button",onClick:function(){return e(Q.a.logOut())}})]})}function X(){var t=Object(d.c)(L);return Object(i.jsxs)("header",{className:D.a.header,children:[Object(i.jsx)(G,{}),t?Object(i.jsx)(V,{}):Object(i.jsx)(K,{})]})}var $=r(22),tt=r(34);function et(t){var e=t.component,r=t.redirectTo,c=Object(tt.a)(t,["component","redirectTo"]),n=Object(d.c)(L);return Object(i.jsx)(g.b,Object($.a)(Object($.a)({},c),{},{render:function(t){return n?Object(i.jsx)(e,Object($.a)({},t)):Object(i.jsx)(g.a,{to:r})}}))}function rt(t){var e=t.component,r=t.redirectTo,c=Object(tt.a)(t,["component","redirectTo"]),n=Object(d.c)(L);return Object(i.jsx)(g.b,Object($.a)(Object($.a)({},c),{},{render:function(t){return n&&c.restricted?Object(i.jsx)(g.a,{to:r}):Object(i.jsx)(e,Object($.a)({},t))}}))}var ct=r(51),nt=r.n(ct),at=r(52),st=(r(24),j.a.lazy((function(){return r.e(5).then(r.bind(null,119))}))),ot=j.a.lazy((function(){return Promise.all([r.e(4),r.e(3)]).then(r.bind(null,122))})),ut=j.a.lazy((function(){return r.e(6).then(r.bind(null,120))})),it=j.a.lazy((function(){return r.e(7).then(r.bind(null,121))}));function bt(){var t=Object(d.b)();return Object(b.useEffect)((function(){t(Q.a.getCurrentUser())}),[t]),Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(at.a,{children:[Object(i.jsx)(X,{}),Object(i.jsx)(b.Suspense,{fallback:Object(i.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(i.jsx)(nt.a,{type:"Rings",color:"#00BFFF",height:80,width:80})}),children:Object(i.jsxs)(g.d,{children:[Object(i.jsx)(g.b,{path:"/",exact:!0,component:st}),Object(i.jsx)(rt,{path:"/login",redirectTo:"/contacts",restricted:!0,component:ut}),Object(i.jsx)(rt,{path:"/register",redirectTo:"/contacts",restricted:!0,component:it}),Object(i.jsx)(et,{path:"/contacts",component:ot,redirectTo:"/login"})]})})]})})}r(108),r(109);O.a.render(Object(i.jsx)(j.a.StrictMode,{children:Object(i.jsx)(d.a,{store:J.store,children:Object(i.jsx)(h.a,{loading:null,persistor:J.persistor,children:Object(i.jsx)(f.a,{children:Object(i.jsx)(g.d,{children:Object(i.jsx)(bt,{})})})})})}),document.getElementById("root"))},14:function(t,e,r){t.exports={header:"Navigations_header__2gw8j",link:"Navigations_link__koZ3A",nav:"Navigations_nav__3Cxvx",button:"Navigations_button__2ecxf",name:"Navigations_name__2nC6t",userWrapper:"Navigations_userWrapper__RYrOq"}},24:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return a}));var c=r(29);r(42);c.b.configure({position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,transition:c.a});var n=function(t){return c.b.error(t)},a=function(t){return c.b.info(t)}},30:function(t,e,r){"use strict";var c=r(19),n=r.n(c),a=r(27),s=r(21),o=r.n(s),u=r(5),i=r(24);o.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var b={set:function(t){o.a.defaults.headers.common.Authorization="Bearer ".concat(t)},unset:function(){o.a.defaults.headers.common.Authorization=""}},j={token:b,register:function(t){return function(){var e=Object(a.a)(n.a.mark((function e(r){var c,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(u.a.registerRequest()),e.prev=1,e.next=4,o.a.post("/users/signup",t);case 4:c=e.sent,a=c.data,b.set(a.token),r(u.a.registerSuccess(a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),r(u.a.registerError(e.t0.message)),Object(i.b)(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},logIn:function(t){return function(){var e=Object(a.a)(n.a.mark((function e(r){var c,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(u.a.logInRequest()),e.prev=1,e.next=4,o.a.post("/users/login",t);case 4:c=e.sent,a=c.data,b.set(a.token),r(u.a.logInSuccess(a)),Object(i.a)("Welcome"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),r(u.a.logInError(e.t0.message)),Object(i.b)(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},logOut:function(){return function(){var t=Object(a.a)(n.a.mark((function t(e){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(u.a.logOutRequest()),t.prev=1,t.next=4,o.a.post("/users/logout");case 4:b.unset(),e(u.a.logOutSuccess()),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),e(u.a.logOutError(t.t0.message)),Object(i.b)(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var t=Object(a.a)(n.a.mark((function t(e,r){var c,a,s,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r(),a=c.auth.token){t.next=3;break}return t.abrupt("return");case 3:return b.set(a),e(u.a.getCurrentUserRequest()),t.prev=5,t.next=8,o.a.get("/users/current");case 8:s=t.sent,i=s.data,e(u.a.getCurrentUserSuccess(i)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e(u.a.getCurrentUserError(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e,r){return t.apply(this,arguments)}}()}};e.a=j},5:function(t,e,r){"use strict";var c=r(4),n=Object(c.b)("auth/registerRequest"),a=Object(c.b)("auth/registerSuccess"),s=Object(c.b)("auth/registerError"),o=Object(c.b)("auth/logInRequest"),u=Object(c.b)("auth/logInSuccess"),i=Object(c.b)("auth/logInError"),b=Object(c.b)("auth/logOutRequest"),j=Object(c.b)("auth/logOutSuccess"),l=Object(c.b)("auth/logOutError"),O=Object(c.b)("auth/getCurrentUserRequest"),d=Object(c.b)("auth/getCurrentUserSuccess"),f=Object(c.b)("auth/getCurrentUserError");e.a={registerRequest:n,registerSuccess:a,registerError:s,logInRequest:o,logInSuccess:u,logInError:i,logOutRequest:b,logOutSuccess:j,logOutError:l,getCurrentUserRequest:O,getCurrentUserSuccess:d,getCurrentUserError:f}},52:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var c=r(2),n=r(57),a=r.n(n);function s(t){var e=t.children;return Object(c.jsx)("div",{className:a.a.container,children:e})}},57:function(t,e,r){t.exports={container:"Container_container__1HlFi"}},9:function(t,e,r){"use strict";var c=r(4),n=Object(c.b)("contacts/changeFilter"),a=Object(c.b)("contacts/fetchContactsRequest"),s=Object(c.b)("contacts/fetchContactsSuccess"),o=Object(c.b)("contacts/fetchContactsError"),u=Object(c.b)("contacts/addContactsRequest"),i=Object(c.b)("contacts/addContactsSuccess"),b=Object(c.b)("contacts/addContactsError"),j=Object(c.b)("contacts/deleteContactsRequest"),l=Object(c.b)("contacts/deleteContactsSuccess"),O=Object(c.b)("contacts/deleteContactsError"),d=Object(c.b)("contacts/editContactsRequest"),f=Object(c.b)("contacts/editContactsSuccess"),g=Object(c.b)("contacts/editContactsError");e.a={fetchContactsRequest:a,fetchContactsSuccess:s,fetchContactsError:o,addContactsRequest:u,addContactsSuccess:i,addContactsError:b,deleteContactsRequest:j,deleteContactsSuccess:l,deleteContactsError:O,editContactsRequest:d,editContactsSuccess:f,editContactsError:g,changeFilter:n}}},[[110,1,2]]]);
//# sourceMappingURL=main.4eeb650e.chunk.js.map