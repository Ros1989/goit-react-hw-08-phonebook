(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{111:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(2),c=n(112),r=n.n(c);function s(t){var e=t.children,n=t.title;return Object(a.jsxs)("section",{className:r.a.section,children:[n?Object(a.jsx)("h2",{className:r.a.title,children:n}):null,e]})}},112:function(t,e,n){t.exports={section:"Section_section__3Y1BP",title:"Section_title__25aMS"}},117:function(t,e,n){t.exports={item:"ContactsList_item__1CKn5",nameText:"ContactsList_nameText__w7t_N",button:"ContactsList_button__2Klu_"}},118:function(t,e,n){t.exports={overlay:"ContactModal_overlay__2uqkl",modal:"ContactModal_modal__2017H",controls:"ContactModal_controls__2n9RT",close:"ContactModal_close__PwVds",closeIcon:"ContactModal_closeIcon__38IiY"}},122:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return L}));var a=n(113),c=n(2),r=n(1),s=n(10),o=n(19),u=n.n(o),i=n(27),l=n(21),b=n.n(l),j=n(9),d=n(24),m=n(32),p=function(t){return t.contacts.item},f=function(t){return t.contacts.isLoading},O=function(t){return t.contacts.filter},h=Object(m.a)([p,O],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),x=Object(m.a)([p],(function(t){return function(e){return t.map((function(t){return t.name})).includes(e)}})),v=(n(116),n(51)),C=n.n(v),g=n(111);function N(){var t=Object(r.useState)(""),e=Object(a.a)(t,2),n=e[0],o=e[1],l=Object(r.useState)(""),m=Object(a.a)(l,2),p=m[0],f=m[1],O=Object(s.c)(x),h=Object(s.b)(),v=function(t){if(t.preventDefault(),O(n))return alert("".concat(n," is already in contacts"));h(function(t,e){return function(){var n=Object(i.a)(u.a.mark((function n(a){var c,r,s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={name:t,number:e},a(j.a.addContactsRequest()),Object(d.a)("Entry added"),n.prev=3,n.next=6,b.a.post("/contacts",c);case 6:r=n.sent,s=r.data,a(j.a.addContactsSuccess(s)),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(3),a(j.a.addContactsError(n.t0.massage)),Object(d.b)(n.t0.message);case 15:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(t){return n.apply(this,arguments)}}()}(n,p)),o(""),f("")};return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("form",{className:"form",onSubmit:function(t){return v(t)},children:[Object(c.jsxs)("div",{className:"inputWrapper",children:[Object(c.jsx)("input",{className:"input",type:"text",name:"name",id:"name",value:n,placeholder:"name",onChange:function(t){return o(t.target.value)}}),Object(c.jsx)("label",{className:n?"labelRight":"label",htmlFor:"name"})]}),Object(c.jsxs)("div",{className:"inputWrapper",children:[Object(c.jsx)("label",{className:p?"labelRight":"label",htmlFor:"phone"}),Object(c.jsx)("input",{className:"input",type:"tel",name:"number",id:"number",value:p,placeholder:"phone number",onChange:function(t){return f(t.target.value)}})]}),Object(c.jsx)("button",{className:"button",type:"submit",disabled:!(n&&p),children:"Add"})]})})}var _=n(117),y=n.n(_),w=n(114);function k(t){var e=t.onOpenModal,n=Object(s.c)(h),a=Object(s.b)();return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("ul",{children:n.map((function(t){var n=t.id,r=t.name,s=t.number;return Object(c.jsxs)("li",{className:y.a.item,children:[Object(c.jsxs)("p",{className:y.a.nameText,children:[r,": ",Object(c.jsx)("span",{children:s})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:y.a.button,type:"button",onClick:function(){return e({name:r,number:s},n)},children:Object(c.jsx)(w.c,{size:"20"})}),Object(c.jsx)("button",{className:y.a.button,type:"button",onClick:function(){return a(function(t){return function(){var e=Object(i.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(j.a.deleteContactsRequest()),e.prev=1,e.next=4,b.a.delete("/contacts/".concat(t));case 4:n(j.a.deleteContactsSuccess(t)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),n(j.a.deleteContactsError(e.t0.massage)),Object(d.b)(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}(n))},children:Object(c.jsx)(w.b,{size:"20",className:y.a.delete})})]})]},n)}))})})}function S(){var t=Object(s.c)(O),e=Object(s.b)();return Object(c.jsx)("form",{className:"form",children:Object(c.jsxs)("div",{className:"inputWrapper",children:[Object(c.jsx)("label",{className:"label",name:"filter",htmlFor:"filter",value:t}),Object(c.jsx)("input",{style:{marginBottom:"30px"},className:"input",value:t,type:"text",id:"filter",placeholder:"find contact by name",onChange:function(t){return e(j.a.changeFilter(t.target.value))}})]})})}var E=n(118),F=n.n(E);function M(t){var e=t.contactData,n=t.onCloseModal,o=e.contact,l=e.id,m=Object(r.useState)(""),p=Object(a.a)(m,2),f=p[0],O=p[1],h=Object(r.useState)(""),x=Object(a.a)(h,2),v=x[0],C=x[1],g=Object(s.b)();Object(r.useEffect)((function(){var t=function(t){"Escape"===t.code&&n(!1)};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}));return Object(c.jsx)("div",{className:F.a.overlay,onClick:function(t){return function(t){t.currentTarget===t.target&&n()}(t)},children:Object(c.jsxs)("div",{className:F.a.modal,children:[Object(c.jsx)("button",{className:F.a.close,type:"button",onClick:function(){return n(!1)},children:Object(c.jsx)(w.a,{size:"30",className:F.a.closeIcon})}),Object(c.jsxs)("form",{className:F.a.form,children:[Object(c.jsxs)("div",{className:"inputWrapper",children:[Object(c.jsx)("label",{htmlFor:"editName"}),Object(c.jsx)("input",{className:"input",type:"text",name:"name",id:"editName",value:f,placeholder:o.name,onChange:function(t){var e=t.target.value;return O(e)}})]}),Object(c.jsxs)("div",{className:"inputWrapper",children:[Object(c.jsx)("label",{htmlFor:"editNumber"}),Object(c.jsx)("input",{className:"input",type:"tel",name:"number",id:"editNamber",value:v,placeholder:o.number,onChange:function(t){var e=t.target.value;return C(e)}})]}),Object(c.jsx)("button",{className:"button",type:"button",onClick:function(){var t={name:f||o.name,number:v||o.number};g(function(t,e){return function(){var n=Object(i.a)(u.a.mark((function n(a){var c,r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(j.a.editContactsRequest()),n.prev=1,n.next=4,b.a.patch("/contacts/".concat(t),e);case 4:c=n.sent,r=c.data,console.log(r),a(j.a.editContactsSuccess(r)),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),a(j.a.editContactsError(n.t0.massage)),Object(d.b)(n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(t){return n.apply(this,arguments)}}()}(l,t)),n(!1)},children:"Save"})]})]})})}function L(){var t=Object(s.c)(p),e=Object(s.c)(f),n=Object(s.b)(),o=Object(r.useState)(!1),l=Object(a.a)(o,2),m=l[0],O=l[1],h=Object(r.useState)({}),x=Object(a.a)(h,2),v=x[0],_=x[1];return Object(r.useEffect)((function(){n(function(){var t=Object(i.a)(u.a.mark((function t(e){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(j.a.fetchContactsRequest()),t.prev=1,t.next=4,b.a.get("/contacts");case 4:n=t.sent,a=n.data,e(j.a.fetchContactsSuccess(a)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),e(j.a.fetchContactsError(t.t0.massage)),Object(d.b)(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}())}),[n]),Object(c.jsxs)(g.a,{title:"Enter name and number",children:[Object(c.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:e?Object(c.jsx)(C.a,{type:"Rings",color:"#00BFFF",height:80,width:80}):null}),Object(c.jsx)(N,{}),t.length?Object(c.jsxs)(g.a,{title:"Contacts",children:[Object(c.jsx)(S,{}),Object(c.jsx)(k,{onOpenModal:function(t,e){O(!0),_({contact:t,id:e})}}),m&&Object(c.jsx)(M,{onCloseModal:O,contactData:v})]}):null]})}}}]);
//# sourceMappingURL=3.e05b1851.chunk.js.map